<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seller Dashboard | Ubelt Grabs</title>
  <style>
    :root {
      --logo-primary: #142a52;
      --logo-accent: #d92b28;
      --logo-light: #f5f6f8;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: var(--logo-light);
      color: #333;
    }

    /* NAVBAR */
    .navbar {
      background: var(--logo-primary);
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
    }

    .nav__logo-img {
      width: 40px;
      vertical-align: middle;
    }

    .nav__logo-text {
      font-weight: bold;
      font-size: 1.4rem;
      margin-left: 0.5rem;
    }

    .navbar__menu {
      list-style: none;
      display: flex;
      align-items: center;
      gap: 1.2rem;
    }

    .navbar__links {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }

    .navbar__links:hover {
      color: var(--logo-accent);
    }

    .navbar__btn a {
      background: var(--logo-accent);
      padding: 0.5rem 1.2rem;
      border-radius: 0.5rem;
      color: white;
      text-decoration: none;
      font-weight: bold;
    }

    .navbar__btn a:hover {
      background: #b71c1b;
    }

    /* HERO */
    .hero {
      text-align: center;
      background: var(--logo-primary);
      color: white;
      padding: 2rem 1rem;
    }

    .section__title {
      text-align: center;
      color: var(--logo-primary);
      margin: 1.5rem 0;
    }

    /* UPLOAD */
    .upload {
      padding: 2rem;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: 2rem auto;
    }

    .form__group {
      margin-bottom: 1rem;
    }

    .form__group input,
    .form__group textarea {
      width: 100%;
      padding: 0.7rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
      font-size: 1rem;
    }

    .upload__btn {
      background: var(--logo-accent);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }

    .upload__btn:hover {
      background: var(--logo-primary);
    }

    .image-preview {
      width: 100%;
      border-radius: 0.5rem;
      margin-top: 0.5rem;
    }

    /* GRID */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      padding: 2rem;
    }

    .card {
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .card__img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .card__body {
      padding: 1rem;
    }

    .card__title {
      color: var(--logo-primary);
      margin: 0.5rem 0;
    }

    .card__desc {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 1rem;
    }

    .delete-btn {
      background: var(--logo-accent);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 0.4rem;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      margin-right: 5px;
    }

    .delete-btn:hover {
      background: var(--logo-primary);
    }

    /* FOOTER */
    .footer {
      background: var(--logo-primary);
      color: white;
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div>
      <img src="uploads/logoreal.png" alt="Ubelt Grabs" class="nav__logo-img">
      <span class="nav__logo-text">Ubelt Grabs</span>
    </div>
    <ul class="navbar__menu">
      <li><a href="#" class="navbar__links" id="homeBtn">Home</a></li>
      <li><a href="#upload" class="navbar__links">Upload</a></li>
      <li class="navbar__btn"><a href="index.html" id="logoutBtn">Log Out</a></li>
    </ul>
  </nav>

  <!-- Hero -->
  <header class="hero" id="heroSection">
    <h1>Welcome, Seller!</h1>
    <p>Upload your best local picks and start earning today.</p>
  </header>

  <!-- Upload -->
  <section id="upload" class="upload">
    <h2 class="section__title">Add New Food Item</h2>
    <form id="uploadForm">
      <div class="form__group">
        <label for="foodImage">Food Image:</label>
        <input type="file" id="foodImage" accept="image/*" required>
        <img id="imagePreview" class="image-preview" alt="Preview" style="display:none;">
      </div>

      <div class="form__group">
        <label for="foodName">Food Name:</label>
        <input type="text" id="foodName" placeholder="e.g. Chicken Adobo" required>
      </div>

      <div class="form__group">
        <label for="foodPrice">Price (₱):</label>
        <input type="number" id="foodPrice" placeholder="e.g. 120" required>
      </div>

      <div class="form__group">
        <label for="foodDesc">Description:</label>
        <textarea id="foodDesc" rows="3" placeholder="Short description..." required></textarea>
      </div>

      <div class="form__group">
        <label for="foodFB">Facebook Page Link:</label>
        <input type="url" id="foodFB" placeholder="https://facebook.com/yourpage" required>
      </div>

      <button type="submit" class="upload__btn">Upload Item</button>
    </form>
  </section>

  <!-- Items -->
  <section id="sellerItemsSection">
    <h2 class="section__title">Your Uploaded Items</h2>
    <div class="grid" id="sellerItems">
      <p class="no-items">No items uploaded yet.</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>© <span id="year"></span> Ubelt Grabs — Empowering Local Sellers.</p>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const uploadForm = document.getElementById("uploadForm");
    const sellerItems = document.getElementById("sellerItems");
    const homeBtn = document.getElementById("homeBtn");
    const logoutBtn = document.getElementById("logoutBtn");
    const foodImage = document.getElementById("foodImage");
    const imagePreview = document.getElementById("imagePreview");

    let items = JSON.parse(localStorage.getItem("sellerItems")) || [];

    foodImage.addEventListener("change", () => {
      const file = foodImage.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = e => {
          imagePreview.src = e.target.result;
          imagePreview.style.display = "block";
        };
        reader.readAsDataURL(file);
      }
    });

    uploadForm.addEventListener("submit", e => {
      e.preventDefault();

      const newItem = {
        name: document.getElementById("foodName").value,
        price: document.getElementById("foodPrice").value,
        desc: document.getElementById("foodDesc").value,
        img: imagePreview.src || "https://via.placeholder.com/400x250",
        fb: document.getElementById("foodFB").value
      };

      items.push(newItem);
      localStorage.setItem("sellerItems", JSON.stringify(items));

      uploadForm.reset();
      imagePreview.style.display = "none";
      renderItems();
      alert("Item uploaded successfully!");
    });

    function renderItems() {
      sellerItems.innerHTML = "";
      if (items.length === 0) {
        sellerItems.innerHTML = "<p class='no-items'>No items uploaded yet.</p>";
        return;
      }

      items.forEach((item, index) => {
        const card = document.createElement("div");
        card.classList.add("card");
        card.innerHTML = `
          <img src="${item.img}" alt="${item.name}" class="card__img">
          <div class="card__body">
            <h3 class="card__title">${item.name}</h3>
            <p class="card__desc">₱${item.price} — ${item.desc}</p>
            <a href="${item.fb}" target="_blank" class="delete-btn">Facebook</a>
            <button class="delete-btn" data-index="${index}">Delete</button>
          </div>
        `;
        sellerItems.appendChild(card);
      });

      document.querySelectorAll(".delete-btn[data-index]").forEach(btn => {
        btn.addEventListener("click", () => {
          const index = btn.getAttribute("data-index");
          items.splice(index, 1);
          localStorage.setItem("sellerItems", JSON.stringify(items));
          renderItems();
        });
      });
    }

    homeBtn.addEventListener("click", e => {
      e.preventDefault();
      document.querySelector("#heroSection").scrollIntoView({ behavior: "smooth" });
    });

    logoutBtn.addEventListener("click", e => {
      e.preventDefault();
      alert("You have been logged out!");
      window.location.href = "index.html";
    });

    renderItems();
  </script>
</body>
</html>
